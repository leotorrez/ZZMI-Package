namespace = SlotFix

; Usage: -------------------------------------------------------------------------
;	Resource\ZZMI\Diffuse = ref Resource . . . Diffuse
;	Resource\ZZMI\NormalMap = ref Resource . . . NormalMap
;	Resource\ZZMI\LightMap = ref Resource . . . LightMap
;	Resource\ZZMI\MaterialMap = ref  Resource . . . MaterialMap
;	Resource\ZZMI\WengineFx = ref  Resource . . . WengineFx
;	Resource\ZZMI\GlowMap = ref  Resource . . . GlowMap
;	run = CommandList\ZZMI\SetTextures
; -------------------------------------------------------------------------------

[Constants]
global $saved_main = 0
global $t0 = -1
global $t1 = -1
global $t2 = -1
global $t3 = -1
global $t4 = -1
global $t5 = -1
global $t6 = -1
global $t7 = -1
global $t8 = -1
global $t9 = -1

global $saved_glow = 0
global $t10 = -1
global $t11 = -1
global $t12 = -1
global $t13 = -1
global $t14 = -1
global $t15 = -1
global $t16 = -1
global $t17 = -1
global $t18 = -1

[CommandListSlotFix]
if $t0 == 3535.102 && $t1 == 3535.006 && $t2 == 3535.104
	ps-t0 = ref Resource\ZZMI\Diffuse unless_null
	ps-t1 = ref Resource\ZZMI\NormalMap unless_null
	ps-t2 = ref Resource\ZZMI\LightMap unless_null
elif $t3 == 3535.102 && $t4 == 3535.006 && $t5 == 3535.104 && ($t6 == 3535.005 || $t6 == 3535.006)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t5 = ref Resource\ZZMI\LightMap unless_null
	ps-t6 = ref Resource\ZZMI\MaterialMap unless_null
elif $t3 == 3535.102 && $t4 == 3535.006 && $t5 == 5353.0 && $t6 == 3535.104 && ($t7 == 3535.005 || $t7 == 3535.006)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t6 = ref Resource\ZZMI\LightMap unless_null
	ps-t7 = ref Resource\ZZMI\MaterialMap unless_null

elif $t3 == 3535.003
	if $t4 == 3535.004
		run = CommandList.SlotFix.CharactersWeapons
	; face
	elif $t4 == 5353.04
		ps-t3 = ref Resource\ZZMI\Diffuse unless_null
		ps-t4 = ref Resource\ZZMI\NormalMap unless_null
		if ($t5 == 3535.006 && $t6 == 5353.0 && $t7 == 5353.0 && $t8 == 5353.1) || ($t5 == 3535.006 && $t6 == 5353.0 && $t7 == 5353.0 && $t8 == 5353.2 && $t9 == 5353.1)
			ps-t5 = ref Resource\ZZMI\GlowMap unless_null
		endif

	elif $t4 == 3535.006
		if $t5 == 3535.006 && $t6 == 3535.006 && $t7 == 3535.006
			ps-t3 = ref Resource\ZZMI\Diffuse unless_null
			ps-t4 = ref Resource\ZZMI\NormalMap unless_null
		else
			run = CommandList.SlotFix.NPC
		endif
	elif $t4 == 3535.205
		if ($t5 == 3535.006 && $t6 == 5353.1) || ($t5 == 5353.0 && $t6 == 3535.006 && $t8 == 5353.1)
			ps-t3 = ref Resource\ZZMI\Diffuse unless_null
			ps-t5 = ref Resource\ZZMI\NormalMap unless_null
		else
			run = CommandList.SlotFix.NPC
		endif
	elif $t2  == 3535.003
		run = CommandList.SlotFix.Outline
	endif

elif $t3 == 3535.305 && $t4 == 3535.006 && ($t5 == 3535.005 || $t5 == 3535.306) && $t6 == 3535.306
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t5 = ref Resource\ZZMI\LightMap unless_null
	ps-t6 = ref Resource\ZZMI\MaterialMap unless_null
elif $t2 == 3535.305 && ($t3 == 3535.005 || $t3 == 3535.306)
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
	ps-t3 = ref Resource\ZZMI\LightMap unless_null


elif $t3 == 8800.0
	if $t4 == 5353.04 || $t4 == 3535.205
		ps-t3 = ref Resource\ZZMI\Diffuse unless_null
		ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	elif $t5 == 3535.006 || $t6 == 3535.006 || $t7 == 3535.006
		ps-t3 = ref Resource\ZZMI\Diffuse unless_null
		ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	endif
elif ($t1 != 3535.006 && ($t2 == 3535.003 || $t2 == 3535.102)) || ($t2 == 8800.0 && $t3 == 3535.006)
	run = CommandList.SlotFix.Outline

; BANDAID CommandList.SlotFix.NPC UPDATE NEED
elif ($t3 == 3535.305 || $t3 == 3535.102) && $t4 == 3535.006
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	if $t5 == 5353.0
		ps-t6 = ref Resource\ZZMI\LightMap unless_null
		if ($t7 == 3535.306 || $t7 == 3535.205)
			ps-t9 = ref Resource\ZZMI\MaterialMap unless_null
			ps-t8 = ref Resource\ZZMI\LightMap unless_null
		else
			ps-t8 = ref Resource\ZZMI\MaterialMap unless_null
			ps-t7 = ref Resource\ZZMI\LightMap unless_null
		endif
	else
		ps-t5 = ref Resource\ZZMI\LightMap unless_null
		if ($t6 == 3535.306 || $t6 == 3535.205)
			ps-t8 = ref Resource\ZZMI\MaterialMap unless_null
			ps-t7 = ref Resource\ZZMI\LightMap unless_null
		else
			ps-t7 = ref Resource\ZZMI\MaterialMap unless_null
			ps-t6 = ref Resource\ZZMI\LightMap unless_null
		endif
	endif

else
	run = CommandList.SlotFix.Object
endif



[CommandList.SlotFix.CharactersWeapons.Glow]
if Resource\ZZMI\WengineFx === Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\WengineFx2 = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\WengineFx3 = ref Resource\ZZMI\EmptyGlowMap
endif
if Resource\ZZMI\GlowMap === Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowMap2 = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowMap3 = ref Resource\ZZMI\EmptyGlowMap
endif
if (Resource\ZZMI\GlowMap === Resource\ZZMI\EmptyGlowMap && (Resource\ZZMI\WengineFx === Resource\ZZMI\EmptyGlowMap || Resource\ZZMI\WengineFx == null)) || (Resource\ZZMI\WengineFx === Resource\ZZMI\EmptyGlowMap && (Resource\ZZMI\WengineFx === Resource\ZZMI\GlowMap || Resource\ZZMI\GlowMap == null))
	Resource\ZZMI\GlowGradient = ref Resource\ZZMI\EmptyGlowMap
endif

if $t9 == 5353.1

	; t8 glow
	; Seth weapon
	if $t8 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t10 == 5353.1

	; t8 fx noise, t9 glow
	; Manato weeapon
	if $t9 == 3535.102 && $t8 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t12 == 5353.1

	; t7 gradient, t8 glow, t9-t11 5353.0
	; Jane Hair
	; t7 gradient, t8 sig glow, t9-t11 5353.0
	; Ju Fufu hair
	if $t7 == 3535.003 && $t8 == 3535.102
		ps-t7 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null


	; t7 glow, t8 gradient, t9-t10 5353.0, t11 fx noise
	; Piper weapon
	elif $t7 == 3535.003 && $t8 == 3535.003 && $t11 == 3535.003
		ps-t7 = ref Resource\ZZMI\GlowMap unless_null
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null


	; t7 sig glow, t8 sig glow, t9-t11 5353.0
	; S11 hair
	elif $t7 == 3535.102 && $t8 == 3535.102
		ps-t7 = ref Resource\ZZMI\WengineFx unless_null
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null


	; t7 gradint, t8 sig glow, t9-t11 5353.0
	; Nicole hair
	elif $t7 == 3535.003 && $t8 == 3535.104
		ps-t7 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null


	; t7 sig glow, t8-t11 5353.0
	; Alice hair
	elif $t7 == 3535.003
		ps-t7 = ref Resource\ZZMI\WengineFx unless_null


	; t7 5353.0, t8 sig glow, t9-t11 5353.0
	; Seth tail
	elif $t8 == 3535.102
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null
	
	endif

elif $t13 == 5353.1

	; t8 color map, t9 sig glow, t10-t12 5353.0
	; Lucia hair
	if $t8 == 3535.102 && $t9 == 3535.102
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8 gradient, t9 glow, t10-t12 5353.0
	; Jane Hair
	; t8 fx noise, t9 glow, t10-t12 5353.0
	; YeShunguang skin case & weapon in form, Lucia book
	; t8 gradient, t9 sig glow, t10-t12 5353.0
	; Ju Fufu body
	elif $t8 == 3535.003 && $t9 == 3535.102
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8 5353.0, t9 sig glow, t10-12 5353.0
	; Manato, YiXuan body
	elif $t9 == 3535.102
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8 fx noise, t9 glow, t10-t12 5353.0
	; Lucia body, Yanagi hair/ring yellow
	; t8 fx noise, t9 sig glow, t10-t12 5353.0
	; Sanby
	elif $t9 == 3535.003 && $t8 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null
	; t8 fx noise, t9 glow, t10-t11 5353.0, t12 fx noise
	; Yanagi hair/ring yellow Ex
	elif $t9 == 3535.003 && $t8 == 3535.003 && $t12 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 fx noise, t9 glow, t10-t12 5353.0
	; Yanagi hair/ring blue
	elif $t9 == 3535.003 && $t8 == 8800.0
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
	; t8 fx noise, t9 glow, t10-t11 5353.0, t12 fx noise
	; Yanagi hair/ring blue Ex
	elif $t9 == 3535.003 && $t8 == 8800.0 && $t12 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 gradient, t9 glow, t10-t12 5353.0
	; Dialyn hair
	; elif $t8 == 8800.0 && $t9 == 3535.102
		; ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		; ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 5353.0, t9 glow, t10-t12 5353.0
	; Dialyn weapon
	; elif $t9 == 3535.102
		; ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 5353.0, t9 glow, t10-t11 5353.0, t12 fx noise
	; Sanby weapon
	elif $t9 == 3535.003 && $t12 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 glow, t9-t12 5353.0
	; Harumasa weapon, Pulchra weapon
	; t8 sig glow, t9-t12 5353.0
	; YiXuan jacket
	elif $t8 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null


	; t8 5353.0, t9 sig glow, t10-t12 5353.0
	; Yidhari legs
	elif $t9 == 3535.003
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8-9 5353.0, t10 sig glow, t11-t12 5353.0
	; Zhao hair
	elif $t10 == 3535.102
		ps-t10 = ref Resource\ZZMI\WengineFx unless_null


	; t8 5353.0, t9 glow, t10-t12 5353.0
	; JuFufu ball
	elif $t9 == 8800.0
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null

	endif

elif $t14 == 5353.1

	; t8 fx noise, t9 glow, t10-t12 5353.0, t13 LuT
	; Lucia body
	if $t9 == 3535.003 && $t8 == 3535.003 && $t13 == 5353.2
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8 5353.0, t8 gradient, t9-t10 5353.0, t11 fx noise, t12 sig glow, t13 5353.0
	; YiXuan hair
	elif $t8 == 3535.003 && $t12 == 3535.003 && $t11 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t12 = ref Resource\ZZMI\WengineFx unless_null


	; t8 glow, t9-t12 5353.0, t13 LuT
	; Pulchra weapon
	elif $t8 == 3535.003 && $t13 == 5353.2
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null


	; t8 glow, t9-t13 5353.0
	; Jane Body
	elif $t8 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null
	
	
	; t7-t10 5353.0, t11 fx noise, t12 glow, t13 5353.0
	; YeShunguang skin leg
	elif $t12 == 3535.102 && $t11 == 3535.003
		ps-t12 = ref Resource\ZZMI\GlowMap unless_null
	
	endif

elif $t15 == 5353.1

	; t8 5353.0, t9 gradient, t10-t11 5353.0, t12 fx noise, t13 sig glow, t14 5353.0
	; YiXuan hair
	if $t9 == 3535.003 && $t13 == 3535.003 && $t12 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null


	; t8 fx noise, t9 glow, t10-t12 5353.0, t13 sig glow, t14 fx noise
	; Yanagi hair blue Ex
	elif $t9 == 3535.003 && $t13 == 3535.102 && $t8 == 8800.0 && $t14 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null
	; t8 fx noise, t9 glow, t10-t12 5353.0, t13 sig glow, t14 fx noise
	; Yanagi hair yellow Ex
	elif $t9 == 3535.003 && $t13 == 3535.102 && $t8 == 3535.003 && $t14 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null


	; t8 fx noise, t9 glow, t10-t12 5353.0, t13 sig glow, t14 5353.0
	; Lucia body
	elif $t9 == 3535.003 && $t13 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null


	; t8-t11 5353.0, t12 fx noise, t13 glow, t14 5353.0
	; YeShunguang leg
	elif $t13 == 3535.102 && $t12 == 3535.003
		ps-t13 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t16 == 5353.1

	; t8 fx noise, t9 glow, t10-t12 5353.0, t13 sig glow, t14 5353.0, t15 LuT
	; Lucia body
	if $t9 == 3535.003 && $t13 == 3535.003 && $t15 == 5353.2
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null


	; $t8 gradient, t9 glow, t10-t11 5353.0, t12 glow2, t13 glow, t14 5353.0, t15 LuT
	; YiXuan bird
	elif $t8 == 3535.003 && $t9 == 3535.003 && $t12 == 3535.003 && $t13 == 3535.003 && $t16 == 8800.0 && $t15 == 5353.2
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null
		ps-t12 = ref Resource\ZZMI\GlowMap2 unless_null
		ps-t13 = ref Resource\ZZMI\GlowMap unless_null
	endif

endif

[CommandList.SlotFix.CharactersWeapons.Glow.Censor]
if Resource\ZZMI\WengineFx === Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowGradient = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\WengineFx2 = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\WengineFx3 = ref Resource\ZZMI\EmptyGlowMap
endif
if Resource\ZZMI\GlowMap === Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowGradient = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowMap2 = ref Resource\ZZMI\EmptyGlowMap
	Resource\ZZMI\GlowMap3 = ref Resource\ZZMI\EmptyGlowMap
endif

if $t12 == 5353.1

	; t9 fx noise, t10 glow, t11 purple fx noise
	; Manato weeapon
	if $t10 == 3535.102 && $t9 == 3535.003 && $t11 == 5353.3
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t14 == 5353.1

	; t8 gradient, t9 glow, t10-t12 5353.0, t13 purple fx noise
	; Jane Hair
	if $t8 == 3535.003 && $t9 == 3535.102 && $t13 == 5353.3
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null

	; t8 sig glow, t9 sig glow, t10-t12 5353.0, t13 purple fx noise
	; S11 hair
	elif $t8 == 3535.102 && $t9 == 3535.102 && $t13 == 5353.3
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8 gradient, t9 sig glow, t10-t13 5353.0
	; Nicole hair
	elif $t8 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t8 glow, t9-t13 5353.0
	; Piper weapon
	; t8 sig glow, t9-t13 5353.0
	; Yidhari hair
	elif $t8 == 3535.003
		ps-t8 = ref Resource\ZZMI\GlowMap unless_null
		ps-t8 = ref Resource\ZZMI\WengineFx unless_null


	; t8 5353.0, t9 glow, t10-t13 5353.0
	; Piper weapon
	elif $t9 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null

	endif

elif $t15 == 5353.1

	; t9 color map, t10 sig glow, t11-t14 5353.0
	; Lucia hair
	if $t9 == 3535.102 && $t10 == 3535.102
		ps-t9 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t10 = ref Resource\ZZMI\WengineFx unless_null


	; t9 fx noise, t10 glow, t11-t14 5353.0
	; Lucia body, Yanagi hair/ring yellow
	; t9 fx noise, t10 sig glow, t11-t14 5353.0
	; Sanby
	elif $t10 == 3535.003 && $t9 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t10 = ref Resource\ZZMI\WengineFx unless_null
	; t9 fx noise, t10 glow, t11-t12 5353.0, t13 fx noise, t14 5353.0
	; Yanagi hair/ring yellow Ex
	elif $t10 == 3535.003 && $t9 == 3535.003 && $t13 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 fx noise, t10 glow, t11-t14 5353.0
	; YeShunguang skin weapon in form, Lucia book
	elif $t10 == 3535.102 && $t9 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 gradient, t10 glow, t9-t13 5353.0, t14 purple fx noise
	; Jane Hair
	elif $t9 == 3535.003 && $t10 == 3535.102 && $t14 == 5353.3
		ps-t9 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 5353.0, t10 sig glow, t11-t14 5353.0
	; Manato
	elif $t10 == 3535.102
		ps-t10 = ref Resource\ZZMI\WengineFx unless_null


	; t9 fx noise, t10 glow, t11-t14 5353.0
	; Yanagi hair/ring blue
	elif $t10 == 3535.003 && $t9 == 8800.0
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 fx noise, t10 glow, t11-t12 5353.0, t13 fx noise, t14 5353.0
	; Yanagi hair/ring blue Ex
	elif $t10 == 3535.003 && $t9 == 8800.0 && $t13 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 5353.0, t10 glow, t11-t14 5353.0
	; Sanby weapon
	; t9 5353.0, t10 sig glow, t11-t14 5353.0
	; Yidhari legs
	elif $t10 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t10 = ref Resource\ZZMI\WengineFx unless_null


	; t9 glow, t10-t13 5353.0, t14 purple fx noise
	; Harumasa weapon, Pulchra weapon
	elif $t9 == 3535.003 && $t14 == 5353.3
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t9 sig glow, t10-t14 5353.0
	; YiXuan body
	elif $t9 == 3535.003
		ps-t9 = ref Resource\ZZMI\WengineFx unless_null


	; t9-10 5353.0, t11 sig glow, t12-t14 5353.0
	; Zhao hair
	elif $t11 == 3535.102
		ps-t11 = ref Resource\ZZMI\WengineFx unless_null


	; t9 5353.0, t10 glow, t11-t14 5353.0
	; JuFufu ball
	elif $t10 == 8800.0
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null

	endif

elif $t16 == 5353.1

	; t9 gradient, t10-t11 5353.0, t12 fx noise, t13 sig glow, t14-t15 5353.0
	; YiXuan hair
	if $t10 == 3535.003 && $t9 == 3535.003 && $t15 == 5353.2
		ps-t9 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t13 = ref Resource\ZZMI\WengineFx unless_null

	; t9 fx noise, t10 glow, t11-t14 5353.0, t15 LuT
	; Lucia body
	elif $t10 == 3535.003 && $t9 == 3535.003 && $t15 == 5353.2
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null


	; t9 glow, t10-t13 5353.0, t14 purple fx noise, t15 LuT
	; Pulchra weapon
	elif $t9 == 3535.003 && $t14 == 5353.3 && $t15 == 5353.2
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null

	; t9 glow, t10-t15 5353.0
	; Jane Body
	elif $t9 == 3535.003
		ps-t9 = ref Resource\ZZMI\GlowMap unless_null


	; t8-t11 5353.0, t12 fx noise, t13 glow, t14-t15 5353.0
	; YeShunguang skin leg
	elif $t13 == 3535.102
		ps-t13 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t17 == 5353.1

	; t9 5353.0, t10 GlowGradient, t11-t12 5353.0, t13 fx noise, t14 sig glow, t15-t16 5353.0
	; YiXuan hair
	if $t10 == 3535.003 && $t14 == 3535.003 && $t13 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t14 = ref Resource\ZZMI\WengineFx unless_null


	; t9 fx noise, t10 glow, t11-t13 5353.0, t14 sig glow, t15 fx noise, t16 5353.0
	; Yanagi hair blue Ex
	elif $t10 == 3535.003 && $t14 == 3535.102 && $t9 == 8800.0 && $t15 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t14 = ref Resource\ZZMI\WengineFx unless_null
	; t9 fx noise, t10 glow, t11-t13 5353.0, t14 sig glow, t15 fx noise, t16 5353.0
	; Yanagi hair yellow Ex
	elif $t10 == 3535.003 && $t14 == 3535.102 && $t9 == 3535.003 && $t15 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t14 = ref Resource\ZZMI\WengineFx unless_null


	; t9 fx noise, t10 glow, t11-t13 5353.0, t14 sig glow, t15-t16 5353.0
	; Lucia body
	elif $t10 == 3535.003 && $t14 == 3535.003 && $t9 == 3535.003
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t14 = ref Resource\ZZMI\WengineFx unless_null


	; t9-t12 5353.0, t13 fx noise, t14 glow, t15-t16 5353.0
	; YeShunguang leg
	elif $t14 == 3535.102 && $t13 == 3535.003
		ps-t14 = ref Resource\ZZMI\GlowMap unless_null
	endif

elif $t18 == 5353.1

	; t9 fx noise, t10 glow, t11-t13 5353.0, t14 sig glow, t15-t16 5353.0, t17 LuT
	; Lucia body
	if $t10 == 3535.003 && $t14 == 3535.003 && $t9 == 3535.003 && $t17 == 5353.2
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t14 = ref Resource\ZZMI\WengineFx unless_null


	; $t9 gradient, t10 glow, t11-t12 5353.0, t13 glow2, t14 glow, t15 5353.0, t16 fx noise, t17 LuT
	; YiXuan bird
	elif $t9 == 3535.003 && $t10 == 3535.003 && $t13 == 3535.003 && $t14 == 3535.003 && $t16 == 8800.0 && $t17 == 5353.2
		ps-t9 = ref Resource\ZZMI\GlowGradient unless_null
		ps-t10 = ref Resource\ZZMI\GlowMap unless_null
		ps-t13 = ref Resource\ZZMI\GlowMap2 unless_null
		ps-t14 = ref Resource\ZZMI\GlowMap unless_null
	endif

endif


[CommandList.SlotFix.CharactersWeapons]
if (($t5 == 3535.006 || $t5 == 3535.005) && ($t6 == 3535.006 || $t6 == 3535.005)) || ($t5 == 3535.006 && $t6 == 3535.205)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t5 = ref Resource\ZZMI\LightMap unless_null
	ps-t6 = ref Resource\ZZMI\MaterialMap unless_null

	if $saved_glow && $t8 != 5353.1
		run = CommandList.SlotFix.CharactersWeapons.Glow
	endif
; censor
elif ($t5 == 5353.0 || $t5 == 8800.0 || $t5 == 3535.003) && ((($t6 == 3535.006 || $t6 == 3535.005) && ($t7 == 3535.006 || $t7 == 3535.005)) || ($t6 == 3535.006 && $t7 == 3535.205))
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t6 = ref Resource\ZZMI\LightMap unless_null
	ps-t7 = ref Resource\ZZMI\MaterialMap unless_null

	if $saved_glow && $t9 != 5353.1
		run = CommandList.SlotFix.CharactersWeapons.Glow.Censor
	endif
else
	run = CommandList.SlotFix.NPC.generic
endif

[CommandList.SlotFix.NPC]
;interactive
if ($t5 == 3535.005 || $t5 == 3535.006) && ($t6 == 3535.005 || $t6 == 3535.006)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t6 = ref Resource\ZZMI\MaterialMap unless_null
	if ($t7 == 3535.003 || $t7 == 8800.0)
		ps-t7 = ref Resource\ZZMI\LightMap unless_null
	else
		ps-t5 = ref Resource\ZZMI\LightMap unless_null
	endif
;censor
elif $t5 == 5353.0 && (($t6 == 3535.005 || $t6 == 3535.006) && ($t7 == 3535.005 || $t7 == 3535.006))
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t7 = ref Resource\ZZMI\MaterialMap unless_null
	if ($t8 == 3535.003 || $t8 == 8800.0)
		ps-t8 = ref Resource\ZZMI\LightMap unless_null
	else
		ps-t6 = ref Resource\ZZMI\LightMap unless_null
	endif
else
	run = CommandList.SlotFix.NPC.generic
endif

[CommandList.SlotFix.NPC.generic]
; generic

if ($t5 == 3535.306 || $t5 == 3535.205) && ($t6 == 3535.306 || $t6 == 3535.205)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	if ($t7 == 3535.003 || $t7 == 8800.0)
		ps-t7 = ref Resource\ZZMI\LightMap unless_null
	endif
elif $t5 == 5353.0 && ($t6 == 3535.306 || $t6 == 3535.205) && ($t7 == 3535.306 || $t7 == 3535.205)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	if ($t8 == 3535.003 || $t8 == 8800.0)
		ps-t8 = ref Resource\ZZMI\LightMap unless_null
	endif

elif ($t5 == 3535.005 || $t5 == 3535.006) && ($t6 == 3535.306 || $t6 == 3535.205)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t5 = ref Resource\ZZMI\LightMap unless_null
	if ($t7 == 3535.003 || $t7 == 8800.0)
		ps-t7 = ref Resource\ZZMI\MaterialMap unless_null
	endif
elif $t5 == 5353.0 && ($t6 == 3535.005 || $t6 == 3535.006) && ($t7 == 3535.306 || $t7 == 3535.205)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t6 = ref Resource\ZZMI\LightMap unless_null
	if ($t8 == 3535.003 || $t8 == 8800.0)
		ps-t8 = ref Resource\ZZMI\MaterialMap unless_null
	endif

elif ($t5 == 3535.306 || $t5 == 3535.205) && ($t6 == 3535.005 || $t6 == 3535.006)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t6 = ref Resource\ZZMI\MaterialMap unless_null
	if ($t7 == 3535.003 || $t7 == 8800.0)
		ps-t7 = ref Resource\ZZMI\LightMap unless_null
	endif
elif $t5 == 5353.0 && ($t6 == 3535.306 || $t6 == 3535.205) && ($t7 == 3535.005 || $t7 == 3535.006)
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
	ps-t7 = ref Resource\ZZMI\MaterialMap unless_null
	if ($t8 == 3535.003 || $t8 == 8800.0)
		ps-t8 = ref Resource\ZZMI\LightMap unless_null
	endif
endif

[CommandList.SlotFix.Outline]
if ($t3 == 5353.0 || $t3 == 5353.1 || $t3 == 5353.2)
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
elif ($t3 == 5353.0 || $t3 == 3535.306) && ($t4 == 3535.006 || $t4 == 3535.005 || $t4 == 3535.104 || $t4 == 3535.205 || $t4 == 3535.003 || $t4 == 5353.3)
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\LightMap unless_null
elif $t3 == 3535.006 || $t3 == 3535.005 || $t3 == 3535.104 || $t3 == 3535.205 || $t3 == 3535.003 || $t3 == 5353.2 || $t3 == 3535.306
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
	ps-t3 = ref Resource\ZZMI\LightMap unless_null
endif

[CommandList.SlotFix.Object]
if $t1 == 3535.006 && $t3 == 3535.003 && $t4 == 3535.006
	ps-t1 = ref Resource\ZZMI\Diffuse unless_null
	ps-t2 = ref Resource\ZZMI\NormalMap unless_null
	ps-t3 = ref Resource\ZZMI\LightMap unless_null
elif $t2 == 3535.102 && $t3 == 3535.006 && $t4 == 3535.104
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
	ps-t3 = ref Resource\ZZMI\NormalMap unless_null
	ps-t4 = ref Resource\ZZMI\LightMap unless_null
elif $t5 == 3535.102 && $t3 == 5353.0
	ps-t5 = ref Resource\ZZMI\Diffuse unless_null
	ps-t6 = ref Resource\ZZMI\NormalMap unless_null
	ps-t7 = ref Resource\ZZMI\LightMap unless_null

elif $t2 == 3535.104 && $t3 == 3535.102 && $t4 == 3535.006
	ps-t2 = ref Resource\ZZMI\LightMap unless_null
	ps-t3 = ref Resource\ZZMI\Diffuse unless_null
	ps-t4 = ref Resource\ZZMI\NormalMap unless_null
elif $t2 == 3535.102 && $t3 == 3535.006
	ps-t2 = ref Resource\ZZMI\Diffuse unless_null
	ps-t3 = ref Resource\ZZMI\NormalMap unless_null
endif
	
[CommandListSlotFixNulling]

[CommandListSaveDefault]
if !$saved_main
	Resource.t0 = ref ps-t0
	Resource.t1 = ref ps-t1
	Resource.t2 = ref ps-t2
	Resource.t3 = ref ps-t3
	Resource.t4 = ref ps-t4
	Resource.t5 = ref ps-t5
	Resource.t6 = ref ps-t6
	Resource.t7 = ref ps-t7
	Resource.t8 = ref ps-t8
	Resource.t9 = ref ps-t9
	run = CommandList.Get.Filters
	
	if !$saved_glow && (Resource\ZZMI\GlowMap !== null || Resource\ZZMI\WengineFx !== null)
	;if !$saved_glow
		Resource.t10 = ref ps-t10
		Resource.t11 = ref ps-t11
		Resource.t12 = ref ps-t12
		Resource.t13 = ref ps-t13
		Resource.t14 = ref ps-t14
		Resource.t15 = ref ps-t15
		Resource.t16 = ref ps-t16
		Resource.t17 = ref ps-t17
		Resource.t18 = ref ps-t18
		run = CommandList.Get.Filters.Glow
	endif
endif

[CommandListCleanUp]
if $saved_main
	run = CommandList.Set.Default
	run = CommandList.Clear.Default
	run = CommandList.Clear.Filters
endif

if $saved_glow
	run = CommandList.Set.Default.Glow
	run = CommandList.Clear.Default.Glow
	run = CommandList.Clear.Filters.Glow
endif

[CommandList.Get.Filters]
$saved_main = 1
$t0 = ps-t0
$t1 = ps-t1
$t2 = ps-t2
$t3 = ps-t3
$t4 = ps-t4
$t5 = ps-t5
$t6 = ps-t6
$t7 = ps-t7
$t8 = ps-t8
$t9 = ps-t9

[CommandList.Clear.Filters]
$saved_main = 0
$t0 = -1
$t1 = -1
$t2 = -1
$t3 = -1
$t4 = -1
$t5 = -1
$t6 = -1
$t7 = -1
$t8 = -1
$t9 = -1

[Resource.t0]
[Resource.t1]
[Resource.t2]
[Resource.t3]
[Resource.t4]
[Resource.t5]
[Resource.t6]
[Resource.t7]
[Resource.t8]
[Resource.t9]

[CommandList.Set.Default]
ps-t0 = ref Resource.t0
ps-t1 = ref Resource.t1
ps-t2 = ref Resource.t2
ps-t3 = ref Resource.t3
ps-t4 = ref Resource.t4
ps-t5 = ref Resource.t5
ps-t6 = ref Resource.t6
ps-t7 = ref Resource.t7
ps-t8 = ref Resource.t8
ps-t9 = ref Resource.t9

[CommandList.Clear.Default]
Resource.t0 = null
Resource.t1 = null
Resource.t2 = null
Resource.t3 = null
Resource.t4 = null
Resource.t5 = null
Resource.t6 = null
Resource.t7 = null
Resource.t8 = null
Resource.t9 = null

[Resource.t10]
[Resource.t11]
[Resource.t12]
[Resource.t13]
[Resource.t14]
[Resource.t15]
[Resource.t16]
[Resource.t17]
[Resource.t18]
[CommandList.Get.Filters.Glow]
$saved_glow = 1
$t10 = ps-t10
$t11 = ps-t11
$t12 = ps-t12
$t13 = ps-t13
$t14 = ps-t14
$t15 = ps-t15
$t16 = ps-t16
$t17 = ps-t17
$t18 = ps-t18

[CommandList.Clear.Filters.Glow]
$saved_glow = 0
$t10 = -1
$t11 = -1
$t12 = -1
$t13 = -1
$t14 = -1
$t15 = -1
$t16 = -1
$t17 = -1
$t18 = -1

[CommandList.Set.Default.Glow]
ps-t10 = ref Resource.t10
ps-t11 = ref Resource.t11
ps-t12 = ref Resource.t12
ps-t13 = ref Resource.t13
ps-t14 = ref Resource.t14
ps-t15 = ref Resource.t15
ps-t16 = ref Resource.t16
ps-t17 = ref Resource.t17
ps-t18 = ref Resource.t18

[CommandList.Clear.Default.Glow]
Resource.t10 = null
Resource.t11 = null
Resource.t12 = null
Resource.t13 = null
Resource.t14 = null
Resource.t15 = null
Resource.t16 = null
Resource.t17 = null
Resource.t18 = null

